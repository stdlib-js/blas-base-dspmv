{"version":3,"file":"index.mjs","sources":["../lib/base.js","../lib/dspmv.js","../lib/main.js","../lib/ndarray.js","../lib/index.js","../1157eeb33e2d4c3177292b01deeea2"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isRowMajor from '@stdlib/ndarray-base-assert-is-row-major-string';\nimport isColumnMajor from '@stdlib/ndarray-base-assert-is-column-major-string';\nimport { ndarray as dfill } from '@stdlib/blas-ext-base-dfill';\nimport { ndarray as dscal } from '@stdlib/blas-base-dscal';\n\n\n// MAIN //\n\n/**\n* Performs the matrix-vector operation `y = alpha*A*x + beta*y` where `alpha` and `beta` are scalars, `x` and `y` are `N` element vectors, and `A` is an `N` by `N` symmetric matrix supplied in packed form.\n*\n* @private\n* @param {string} order - storage layout\n* @param {string} uplo - specifies whether the upper or lower triangular part of the symmetric matrix `A` is supplied\n* @param {NonNegativeInteger} N - number of elements along each dimension of `A`\n* @param {number} alpha - scalar constant\n* @param {Float64Array} AP - packed form of a symmetric matrix `A`\n* @param {NonNegativeInteger} offsetAP - starting `AP` index\n* @param {Float64Array} x - first input array\n* @param {integer} strideX - `x` stride length\n* @param {NonNegativeInteger} offsetX - starting `x` index\n* @param {number} beta - scalar constant\n* @param {Float64Array} y - second input array\n* @param {integer} strideY - `y` stride length\n* @param {NonNegativeInteger} offsetY - starting `y` index\n* @returns {Float64Array} `y`\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n*\n* var AP = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0 ] );\n* var x = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n* var y = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n*\n* dspmv( 'column-major', 'lower', 3, 1.0, AP, 0, x, 1, 0, 1.0, y, 1, 0 );\n* // y => <Float64Array>[ ~7.0, ~12.0, ~15.0 ]\n*/\nfunction dspmv( order, uplo, N, alpha, AP, offsetAP, x, strideX, offsetX, beta, y, strideY, offsetY ) { // eslint-disable-line max-params, max-len\n\tvar temp1;\n\tvar temp2;\n\tvar ix;\n\tvar iy;\n\tvar jx;\n\tvar jy;\n\tvar kk;\n\tvar kx;\n\tvar ky;\n\tvar j;\n\tvar k;\n\n\tif ( N === 0 || ( alpha === 0.0 && beta === 1.0 ) ) {\n\t\treturn y;\n\t}\n\t// Form: y = beta*y\n\tif ( beta !== 1.0 ) {\n\t\tif ( beta === 0.0 ) {\n\t\t\tdfill( N, 0.0, y, strideY, offsetY );\n\t\t} else {\n\t\t\tdscal( N, beta, y, strideY, offsetY );\n\t\t}\n\t}\n\tif ( alpha === 0.0 ) {\n\t\treturn y;\n\t}\n\t// Form: y = alpha*A*x + y\n\tkx = offsetX;\n\tky = offsetY;\n\tkk = offsetAP;\n\tif (\n\t\t( isRowMajor( order ) && uplo === 'upper' ) ||\n\t\t( isColumnMajor( order ) && uplo === 'lower' )\n\t) {\n\t\tjx = kx;\n\t\tjy = ky;\n\t\tfor ( j = 0; j < N; j++ ) {\n\t\t\ttemp1 = alpha * x[ jx ];\n\t\t\ttemp2 = 0.0;\n\t\t\ty[ jy ] += temp1 * AP[ kk ];\n\t\t\tix = jx;\n\t\t\tiy = jy;\n\t\t\tfor ( k = kk + 1; k < kk + N - j; k++ ) {\n\t\t\t\tix += strideX;\n\t\t\t\tiy += strideY;\n\t\t\t\ty[ iy ] += temp1 * AP[ k ];\n\t\t\t\ttemp2 += AP[ k ] * x[ ix ];\n\t\t\t}\n\t\t\ty[ jy ] += alpha * temp2;\n\t\t\tjx += strideX;\n\t\t\tjy += strideY;\n\t\t\tkk += N - j;\n\t\t}\n\t\treturn y;\n\t}\n\t// ( order === 'row-major' && uplo === 'lower') || ( order === 'column-major' && uplo === 'upper' )\n\tjx = kx;\n\tjy = ky;\n\tfor ( j = 0; j < N; j++ ) {\n\t\ttemp1 = alpha * x[ jx ];\n\t\ttemp2 = 0.0;\n\t\tix = kx;\n\t\tiy = ky;\n\t\tfor ( k = kk; k < kk + j; k++ ) {\n\t\t\ty[ iy ] += temp1 * AP[ k ];\n\t\t\ttemp2 += AP[ k ] * x[ ix ];\n\t\t\tix += strideX;\n\t\t\tiy += strideY;\n\t\t}\n\t\ty[ jy ] += ( temp1 * AP[ kk + j ] ) + ( alpha * temp2 );\n\t\tjx += strideX;\n\t\tjy += strideY;\n\t\tkk += j + 1;\n\t}\n\treturn y;\n}\n\n\n// EXPORTS //\n\nexport default dspmv;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isLayout from '@stdlib/blas-base-assert-is-layout';\nimport isMatrixTriangle from '@stdlib/blas-base-assert-is-matrix-triangle';\nimport stride2offset from '@stdlib/strided-base-stride2offset';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport base from './base.js';\n\n\n// MAIN //\n\n/**\n* Performs the matrix-vector operation `y = alpha*A*x + beta*y` where `alpha` and `beta` are scalars, `x` and `y` are `N` element vectors, and `A` is an `N` by `N` symmetric matrix supplied in packed form.\n*\n* @param {string} order - storage layout\n* @param {string} uplo - specifies whether the upper or lower triangular part of the symmetric matrix `A` is supplied\n* @param {NonNegativeInteger} N - number of elements along each dimension of `A`\n* @param {number} alpha - scalar constant\n* @param {Float64Array} AP - packed form of a symmetric matrix `A`\n* @param {Float64Array} x - first input array\n* @param {integer} strideX - `x` stride length\n* @param {number} beta - scalar constant\n* @param {Float64Array} y - second input array\n* @param {integer} strideY - `y` stride length\n* @throws {TypeError} first argument must be a valid order\n* @throws {TypeError} second argument must specify whether the lower or upper triangular matrix is supplied\n* @throws {RangeError} third argument must be a nonnegative integer\n* @throws {RangeError} seventh argument must be non-zero\n* @throws {RangeError} tenth argument must be non-zero\n* @returns {Float64Array} `y`\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n*\n* var AP = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0 ] );\n* var x = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n* var y = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n*\n* dspmv( 'column-major', 'lower', 3, 1.0, AP, x, 1, 1.0, y, 1 );\n* // y => <Float64Array>[ ~7.0, ~12.0, ~15.0 ]\n*/\nfunction dspmv( order, uplo, N, alpha, AP, x, strideX, beta, y, strideY ) {\n\tvar offsetX;\n\tvar offsetY;\n\n\tif ( !isLayout( order ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a valid order. Value: `%s`.', order ) );\n\t}\n\tif ( !isMatrixTriangle( uplo ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.', uplo ) );\n\t}\n\tif ( N < 0 ) {\n\t\tthrow new RangeError( format( 'invalid argument. Third argument must be a nonnegative integer. Value: `%d`.', N ) );\n\t}\n\tif ( strideX === 0 ) {\n\t\tthrow new RangeError( format( 'invalid argument. Seventh argument must be non-zero. Value: `%d`.', strideX ) );\n\t}\n\tif ( strideY === 0 ) {\n\t\tthrow new RangeError( format( 'invalid argument. Tenth argument must be non-zero. Value: `%d`.', strideY ) );\n\t}\n\toffsetX = stride2offset( N, strideX );\n\toffsetY = stride2offset( N, strideY );\n\treturn base( order, uplo, N, alpha, AP, 0, x, strideX, offsetX, beta, y, strideY, offsetY ); // eslint-disable-line max-len\n}\n\n\n// EXPORTS //\n\nexport default dspmv;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property';\nimport dspmv from './dspmv.js';\nimport ndarray from './ndarray.js';\n\n\n// MAIN //\n\nsetReadOnly( dspmv, 'ndarray', ndarray );\n\n\n// EXPORTS //\n\nexport default dspmv;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isLayout from '@stdlib/blas-base-assert-is-layout';\nimport isMatrixTriangle from '@stdlib/blas-base-assert-is-matrix-triangle';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport base from './base.js';\n\n\n// MAIN //\n\n/**\n* Performs the matrix-vector operation `y = alpha*A*x + beta*y` where `alpha` and `beta` are scalars, `x` and `y` are `N` element vectors, and `A` is an `N` by `N` symmetric matrix supplied in packed form.\n*\n* @param {string} order - storage layout\n* @param {string} uplo - specifies whether the upper or lower triangular part of the symmetric matrix `A` is supplied\n* @param {NonNegativeInteger} N - number of elements along each dimension of `A`\n* @param {number} alpha - scalar constant\n* @param {Float64Array} AP - packed form of a symmetric matrix `A`\n* @param {NonNegativeInteger} offsetAP - starting `AP` index\n* @param {Float64Array} x - first input array\n* @param {integer} strideX - `x` stride length\n* @param {NonNegativeInteger} offsetX - starting `x` index\n* @param {number} beta - scalar constant\n* @param {Float64Array} y - second input array\n* @param {integer} strideY - `y` stride length\n* @param {NonNegativeInteger} offsetY - starting `y` index\n* @throws {TypeError} first argument must be a valid order\n* @throws {TypeError} second argument must specify whether the lower or upper triangular matrix is supplied\n* @throws {RangeError} third argument must be a nonnegative integer\n* @throws {RangeError} eighth argument must be non-zero\n* @throws {RangeError} twelfth argument must be non-zero\n* @returns {Float64Array} `y`\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n*\n* var AP = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0 ] );\n* var x = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n* var y = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n*\n* dspmv( 'column-major', 'lower', 3, 1.0, AP, 0, x, 1, 0, 1.0, y, 1, 0 );\n* // y => <Float64Array>[ ~7.0, ~12.0, ~15.0 ]\n*/\nfunction dspmv( order, uplo, N, alpha, AP, offsetAP, x, strideX, offsetX, beta, y, strideY, offsetY ) { // eslint-disable-line max-params, max-len\n\tif ( !isLayout( order ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a valid order. Value: `%s`.', order ) );\n\t}\n\tif ( !isMatrixTriangle( uplo ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.', uplo ) );\n\t}\n\tif ( N < 0 ) {\n\t\tthrow new RangeError( format( 'invalid argument. Third argument must be a nonnegative integer. Value: `%d`.', N ) );\n\t}\n\tif ( strideX === 0 ) {\n\t\tthrow new RangeError( format( 'invalid argument. Eighth argument must be non-zero. Value: `%d`.', strideX ) );\n\t}\n\tif ( strideY === 0 ) {\n\t\tthrow new RangeError( format( 'invalid argument. Twelfth argument must be non-zero. Value: `%d`.', strideY ) );\n\t}\n\treturn base( order, uplo, N, alpha, AP, offsetAP, x, strideX, offsetX, beta, y, strideY, offsetY ); // eslint-disable-line max-len\n}\n\n\n// EXPORTS //\n\nexport default dspmv;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* BLAS level 2 routine to perform the matrix-vector operation `y = alpha*A*x + beta*y` where `alpha` and `beta` are scalars, `x` and `y` are `N` element vectors, and `A` is an `N` by `N` symmetric matrix supplied in packed form.\n*\n* @module @stdlib/blas-base-dspmv\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import dspmv from '@stdlib/blas-base-dspmv';\n*\n* var AP = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0 ] );\n* var x = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n* var y = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n*\n* dspmv( 'column-major', 'lower', 3, 1.0, AP, x, 1, 1.0, y, 1 );\n* // y => <Float64Array>[ ~7.0, ~12.0, ~15.0 ]\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import dspmv from '@stdlib/blas-base-dspmv';\n*\n* var AP = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0 ] );\n* var x = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n* var y = new Float64Array( [ 1.0, 1.0, 1.0 ] );\n*\n* dspmv.ndarray( 'column-major', 'lower', 3, 1.0, AP, 0, x, 1, 0, 1.0, y, 1, 0 );\n* // y => <Float64Array>[ ~7.0, ~12.0, ~15.0 ]\n*/\n\n// MODULES //\n\nvar join = require( 'path' ).join;\nimport tryRequire from '@stdlib/utils-try-require';\nimport isError from '@stdlib/assert-is-error';\nimport main from './main.js';\n\n\n// MAIN //\n\nvar dspmv;\nvar tmp = tryRequire( join( __dirname, './native.js' ) );\nif ( isError( tmp ) ) {\n\tdspmv = main;\n} else {\n\tdspmv = tmp;\n}\n\n\n// EXPORTS //\n\nexport default dspmv;\n\n// exports: { \"ndarray\": \"dspmv.ndarray\" }\n","export default '/home/runner/work/blas-base-dspmv/blas-base-dspmv/lib'"],"names":["dspmv","order","uplo","N","alpha","AP","offsetAP","x","strideX","offsetX","beta","y","strideY","offsetY","temp1","temp2","ix","iy","jx","jy","kk","kx","ky","j","k","dfill","dscal","isRowMajor","isColumnMajor","isLayout","TypeError","format","isMatrixTriangle","RangeError","base","stride2offset","setReadOnly","tmp","tryRequire","join","require$$0","dspmv$1","isError","main"],"mappings":"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"}